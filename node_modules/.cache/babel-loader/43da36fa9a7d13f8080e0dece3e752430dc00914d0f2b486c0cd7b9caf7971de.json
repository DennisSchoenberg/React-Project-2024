{"ast":null,"code":"import{useFormik}from'formik';import{useState}from'react';import{useNavigate}from'react-router-dom';// Импортируем useNavigate\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const initial={id:0,username:'',gender:'',email:'',image:'',firstName:'',lastName:'',refreshToken:'',token:''};export default function Auth(){const[userData,setUserData]=useState(initial);const navigate=useNavigate();// Используем useNavigate\nconst formik=useFormik({initialValues:{username:'',password:''},onSubmit:async(values,_ref)=>{let{resetForm}=_ref;const res=await fetch('https://dummyjson.com/user/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({username:values.username,password:values.password})});const data=await res.json();setUserData(data);resetForm();navigate('/');// Перенаправление на главную страницу\n}});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Formik auth\"}),/*#__PURE__*/_jsx(\"p\",{children:\"username: 'emilys', password: 'emilyspass'\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:formik.handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{name:\"username\",placeholder:\"username\",onChange:formik.handleChange,value:formik.values.username,type:\"text\"}),/*#__PURE__*/_jsx(\"input\",{name:\"password\",placeholder:\"password\",onChange:formik.handleChange,value:formik.values.password,type:\"text\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"log in\"})]}),userData.firstName&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Name: \",userData.firstName]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Last name: \",userData.lastName]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Email: \",userData.email]}),/*#__PURE__*/_jsx(\"img\",{width:200,src:userData.image,alt:\"\"})]})]});}","map":{"version":3,"names":["useFormik","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","initial","id","username","gender","email","image","firstName","lastName","refreshToken","token","Auth","userData","setUserData","navigate","formik","initialValues","password","onSubmit","values","_ref","resetForm","res","fetch","method","headers","body","JSON","stringify","data","json","children","handleSubmit","name","placeholder","onChange","handleChange","value","type","width","src","alt"],"sources":["/Users/BogyOne/Desktop/aaa/src/components/auth/Auth.tsx"],"sourcesContent":["import { useFormik } from 'formik';\nimport { useState } from 'react';\nimport { useNavigate } from 'react-router-dom'; // Импортируем useNavigate\n\ninterface IFormValues {\n  username: string;\n  password: string;\n}\n\ninterface IUserData {\n  id: number;\n  username: string;\n  gender: string;\n  email: string;\n  image: string;\n  firstName: string;\n  lastName: string;\n  refreshToken: string;\n  token: string;\n}\n\nconst initial = {\n  id: 0,\n  username: '',\n  gender: '',\n  email: '',\n  image: '',\n  firstName: '',\n  lastName: '',\n  refreshToken: '',\n  token: '',\n};\n\nexport default function Auth() {\n  const [userData, setUserData] = useState<IUserData>(initial);\n  const navigate = useNavigate(); // Используем useNavigate\n\n  const formik = useFormik({\n    initialValues: {\n      username: '',\n      password: ''\n    } as IFormValues,\n    onSubmit: async (values: IFormValues, { resetForm }) => {\n      const res = await fetch('https://dummyjson.com/user/login', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          username: values.username,\n          password: values.password\n        })\n      });\n      const data = await res.json();\n      setUserData(data);\n      resetForm();\n      navigate('/'); // Перенаправление на главную страницу\n    }\n  });\n\n  return (\n    <div>\n      <span>Formik auth</span>\n      <p>username: 'emilys', password: 'emilyspass'</p>\n      <form onSubmit={formik.handleSubmit}>\n        <input\n          name=\"username\"\n          placeholder=\"username\"\n          onChange={formik.handleChange}\n          value={formik.values.username}\n          type=\"text\"\n        />\n        <input\n          name=\"password\"\n          placeholder=\"password\"\n          onChange={formik.handleChange}\n          value={formik.values.password}\n          type=\"text\"\n        />\n        <button type=\"submit\">log in</button>\n      </form>\n\n      {userData.firstName && (\n        <>\n          <p>Name: {userData.firstName}</p>\n          <p>Last name: {userData.lastName}</p>\n          <p>Email: {userData.email}</p>\n          <img width={200} src={userData.image} alt=\"\" />\n        </>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}